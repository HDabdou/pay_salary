<div class="row" style="margin-top: 1rem;border-radius: 5px;border: 1px black; padding: 2rem ; box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19); background-color: white ;  margin-left: 0.5rem; margin-right: 0.5rem; margin-bottom: 0.5rem" >
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 " style="margin-top: 1rem">
      <div class="row">
      <div class="col-lg-3 col-md-3 col-sm-3 col-xs-3 ">
        <button class="btn btn-info" (click)="openModal(template)">Créer un utilisateur</button>
      </div>
      <div class="col-lg-2 col-md-2 col-sm-2 col-xs-2 ">
        <label  class="control-label">Filtre</label>
      </div >
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4 ">
         <input type="text" class="form-control" [(ngModel)]="filtre" name="filtre" id="filtre">
      </div>
    </div>
    </div>
    <div  class="col-lg-12 col-md-12 col-sm-12 col-xs-12 " style="margin-top: 1rem">
      <div  id="tab" >
          <table class="table table-striped table-responsive table-dark " >
              <thead >
              <tr>
                <th scope="col">#</th>
                <th scope="col">Prenom </th>
                <th scope="col">nom </th>
                <th scope="col">Login</th>
                <th scope="col">Option </th>
                <th scope="col">Option</th>
              </tr>
            </thead>
            <tbody>
            <tr *ngFor=" let l of users | filterBy: ['prenom','nom','login']: filtre ; let i=index; ">
                <td >{{i+1}}</td>
                <td >{{l.prenom}}</td>
                <td >{{l.nom}}</td>
                <td >{{l.login}}</td>
                <td ><button class="btn btn-warning" (click)="openModal1(template1);getIndex(i)" type="submit"><i class="fa fa-pencil"></i> Modifier</button></td>
                <td ><button class="btn btn-danger" (click)="deleteUser(i)" type="submit"><i class="fa fa-remove"></i> Supprimer</button></td>
                
              </tbody>
          </table>
      </div>
    
    </div>
</div>

<ng-template #template >
  <div class="modal-header " style="background-color: dodgerblue;color:white">
    <h4 class="modal-title pull-left">Création d'utilisateur</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form  action="">
      <div class="control-group">
        <label for="" class="control-label">Nom</label>
        <input type="text" class="form-control" [(ngModel)]="user.nom" name="nom" id="">
      </div>
      <div class="control-group">
        <label for="" class="control-label">Prenom</label>
        <input type="text" class="form-control" [(ngModel)]="user.prenom" name="nom" id="">
      </div>      <div class="control-group">
        <label for="" class="control-label">Login</label>
        <input type="text" class="form-control" [(ngModel)]="user.login" name="nom" id="">
      </div>
      <div class="control-group">
        <label for="" class="control-label">Mot de passe</label>
        <input type="password" class="form-control" [(ngModel)]="password" name="nom" id="">
      </div>

      <div class="control-group">
        <label for="" class="control-label">Confirmer mot de passe</label>
        <input type="password" class="form-control" [(ngModel)]="Rpassword" name="nom" id="">
      </div>
      <div class="control-group" style="margin-top:1rem">
        <button class="btn btn-danger">Annuler</button>
        <button style="margin-left:1rem" (click)="addUser()" class="btn btn-success">Valider</button>
      </div>
      
    </form>
  </div>
</ng-template>
<ng-template #template1 >
    <div class="modal-header " style="background-color: dodgerblue;color:white">
      <h4 class="modal-title pull-left">Modification d'utilisateur</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="closeUpdateModal()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div *ngIf="userClick != null" class="modal-body">
      <form   >
        <div class="control-group">
          <label for="" class="control-label">Nom</label>
          <input  type="text" class="form-control" [(ngModel)]="Mnom" value="{{Mnom}}" name="nom" id="idNom">
        </div>
        <div class="control-group">
          <label for="" class="control-label">Prenom</label>
          <input type="text"  class="form-control" [(ngModel)]="Mprenom" name="prenom" id="IdPrenom">
        </div>     
         <div class="control-group">
          <label for="" class="control-label">Login</label>
          <input type="text" class="form-control" [(ngModel)]="Mlogin" name="login" id="IdLogin">
        </div>
        <div class="control-group">
          <label for="" class="control-label">Réinitialissation  mot de passe</label>
          <input type="password" class="form-control" [(ngModel)]="Restartpassword" name="password" id="idRpassword">
        </div>
        <div class="control-group" style="margin-top:1rem">
          <button (click)="closeUpdateModal()" class="btn btn-danger">Annuler</button>
          <button style="margin-left:1rem" (click)="soppiUser()" class="btn btn-success">Valider</button>
        </div>
        
      </form>
    </div>
  </ng-template>